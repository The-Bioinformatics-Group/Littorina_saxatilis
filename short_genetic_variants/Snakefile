include: "rules/common.smk"

##### Target rules #####

rule all:
    input:
        # "subreference/Lsax_subref_supercontigs_len.txt",
        # expand("dedup/{sample}-{unit}.bam.bai", sample=samples.index, unit=units["unit"]),
        "joined_captured_supercontigs.bed",
        # "qc/multiqc.html"
        # "genotyped/all.vcf.gz"
        "filtered/all.vcf.gz",
        "updated/all_supercontigs.sorted.vcf.gz",
        expand("tables/all.vcf.{tabtype}.table", tabtype=['depth', 'coverage'])


##### Modules #####

# include: "rules/subset_ref.smk"
# include: "rules/subref_prep.smk"
# include: "rules/mapping.smk"
include: "rules/intervals.smk"
#include: "rules/qc.smk"
include: "rules/calling.smk"
include: "rules/filtering.smk"
include: "rules/update_coords.smk"
include: "rules/clines.smk"
